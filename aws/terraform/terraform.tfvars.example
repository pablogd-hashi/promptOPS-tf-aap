# -----------------------------------------------------------------------------
# AWS Vault SSH CA Demo - Configuration
# -----------------------------------------------------------------------------
# Copy this file to terraform.tfvars and update with your values.
#
# Prerequisites:
#   - Existing AAP controller (not provisioned by this repo)
#   - HashiCorp Vault with network access
#   - AWS credentials configured
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# AAP Configuration (Existing Controller)
# -----------------------------------------------------------------------------
# Provide connection details for your existing AAP controller.

aap_host                 = "https://aap.example.com"
aap_username             = "admin"
aap_password             = "your-aap-password"
aap_job_template_id      = 1
aap_insecure_skip_verify = false

# -----------------------------------------------------------------------------
# Vault Configuration
# -----------------------------------------------------------------------------

vault_addr      = "https://vault.example.com:8200"
vault_token     = "hvs.your-vault-token"
vault_namespace = ""  # Leave empty for OSS Vault, use "admin" for HCP Vault
vault_ssh_role  = "target"

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------

aws_region = "us-east-1"

# -----------------------------------------------------------------------------
# Target VM Configuration
# -----------------------------------------------------------------------------

target_vm_count      = 1
target_instance_type = "t3.micro"
target_ami_id        = ""  # Leave empty to use latest Amazon Linux 2023
ssh_user             = "ec2-user"
root_volume_size     = 20

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------

vpc_cidr = "10.1.0.0/16"

# CIDR blocks allowed to SSH to target VMs (restrict in production!)
allowed_ssh_cidrs = []

# CIDR block of your AAP controller for SSH access to targets
# Required for AAP to connect to target VMs
aap_cidr = "10.0.0.0/8"  # Update with your AAP controller's CIDR

# -----------------------------------------------------------------------------
# Naming and Tags
# -----------------------------------------------------------------------------

name_prefix = "vault-ssh-demo"

tags = {
  Environment = "demo"
  Owner       = "your-name"
}
